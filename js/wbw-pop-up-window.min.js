/*wbw-pop-up-window.min.js 作者:wbw121124(中文名吴邦玮) 邮箱:wbw121124@163.com 版本:1.0.5*/class wpuw_data{constructor(id,pos,onclose){this.id=id;this.pos=pos;this.onclose=onclose}close(){document.getElementById(this.id).style.display="none"}show(){document.getElementById(this.id).style.display="block"}del(){document.getElementById(this.id).remove();this.onclose();~(this)}remove(){this.del()}style(s){document.getElementById(this.id).style="display:"+document.getElementById(this.id).style.display+";"+s}cpos(pos){if(this.pos=="center"){console.info("wpuw:wpuw_data.pos()参数错误,pos为this.center不需要设置位置");return}document.getElementById(this.id).classList.remove(".wpuw-"+this.pos);document.getElementById(this.id).classList.add(".wpuw-"+pos)}content(c){document.getElementById(this.id).innerHTML=c}getelement(){return document.getElementById(this.id)}change(x,y){switch(x){case"onclose":this.onclose=y;break;case"pos":this.cpos(y);case"content":this.content(y);default:console.warn("wpuw:wpuw_data.change()参数错误");break}}element(name){if(name=="background")return document.getElementById(this.id).firstChild;else if(name=="box")return document.getElementById(this.id).firstChild.firstChild;else if(name=="close")return document.getElementById(this.id).firstChild.firstChild.firstChild;else if(name=="content")return document.getElementById(this.id).firstChild.firstChild.lastChild;else console.warn("wpuw:wpuw_data.element()参数错误")}}class wpuw{init(){var style=document.createElement("style");style.innerHTML=`.wpuw-center-background{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.5);z-index:9999}.wpuw-center-box{position:relative;background-color:rgba(255,255,255,0.75);padding:25px;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,0.5);z-index:99999}.wpuw-center-box-close{cursor:pointer;context:"x";position:absolute;top:10px;right:10px}.wpuw-other-background{position:fixed;top:0;left:0;width:100%;height:100%}.wpuw-other-box{position:absolute;background-color:rgba(255,255,255,0.75);padding:25px;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,0.5);z-index:99999}.wpuw-other-box-close{cursor:pointer;context:"x";position:absolute;top:10px;right:10px}.wpuw-center-box-close:hover,.wpuw-other-box-close:hover{color:red}.wpuw-center-box-close:hover svg,.wpuw-other-box-close:hover svg{color:red;stroke:red}.wpuw-left-top{top:0;left:0}.wpuw-right-top{top:0;right:0}.wpuw-left-bottom{bottom:0;left:0}.wpuw-right-bottom{bottom:0;right:0}.wpuw-custom{z-index:99999}.wpuw-left-center{top:50%;left:0}.wpuw-right-center{top:50%;right:0}.wpuw-top-center{top:0;left:50%}.wpuw-bottom-center{bottom:0;left:50%}`;document.body.append(style);this.close_svg=`<svg xmlns="http://www.w3.org/2000/svg"width="16"height="16"fill="currentColor"stroke="black"class="bi bi-x"viewBox="0 0 16 16"><path d="M0 0 L16 16 M0 16 L16 0"stroke-width="1.5"/></svg>`}constructor(cnt_start="wpuw-"){this.cnt_start=cnt_start}wpuw(cnt_start="wpuw-"){this.cnt_start=cnt_start}cnt=0;new(type,mod,content,pos,style="",isclose=true,onclose=()=>{},class1="",fa=document.body,class_start="wpuw-"+(type=="center"?"center":"other"),needbackground=true){var close_style=`${(mod=="info"||mod=="loading"||mod=="question"?"style='display:none;'":(isclose||mod=="ad"?"":"style='display:none;'"))}`;var div=document.createElement("div");div.className=`${needbackground?class_start+"-background":""}${class1}`;div.innerHTML=`<div class="${class_start}-box"style="${style}"><div class="${class_start}-box-close"${close_style}>${this.close_svg}</div><div class="${class_start}-box-content">${content}</div></div>`;if(type!="center"){switch(pos){case"left-top":div.children[0].className+=" wpuw-left-top";break;case"right-top":div.children[0].className+=" wpuw-right-top";break;case"left-bottom":div.children[0].className+=" wpuw-left-bottom";break;case"right-bottom":div.children[0].className+=" wpuw-right-bottom";break;case"custom":break;default:console.warn("wpuw: 未知的pos参数");return null}}div.id=this.cnt_start+this.cnt;this.cnt++;var data=new wpuw_data(div.id,pos,onclose);div.children[0].children[0].addEventListener("click",()=>{data.remove()});if(mod=="info"){div.addEventListener("click",()=>{data.remove()})}fa.append(div);return data}}var wpuw_sider_use=new wpuw("wpus-sider-");wpuw_sider_use.init();class wpuw_sider{constructor(pos,style,margin="5px"){this.close_svg=`<svg xmlns="http://www.w3.org/2000/svg"width="16"height="16"fill="currentColor"stroke="black"class="bi bi-x"viewBox="0 0 16 16"><path d="M0 0 L16 16 M0 16 L16 0"stroke-width="1.5"/></svg>`;var style1=document.createElement("style");style1.innerHTML=`.wpuw-sider-${pos}-box{position:relative;background-color:rgba(255,255,255,0.75);padding:25px;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,0.5);margin:${margin}}.wpuw-sider-${pos}-box-close{cursor:pointer;context:"x";position:absolute;top:10px;right:10px}.wpuw-sider-${pos}-box-close:hover{color:red}.wpuw-sider-${pos}-box-close:hover svg{color:red;stroke:red}.wpuw-queue-${pos}{position:fixed;top:0;left:0;display:flex;flex-direction:column}.wpuw-queue-${pos}-item{position:relative;${style}}`;document.body.append(style1);this.main=document.createElement("div");this.main.className="wpuw-queue-"+pos;this.main.innerHTML="<div style='display:none;'></div>";document.body.append(this.main);this.pos=pos}push(mod,content,style="",isclose=true,onclose=()=>{},class1=""){return wpuw_sider_use.new("other",mod,content,"custom",style,isclose,onclose,class1+" wpuw-queue-"+this.pos+"-item",this.main,"wpuw-sider-"+this.pos,false)}}